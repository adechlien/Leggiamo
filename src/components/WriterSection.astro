---
import Footer from "./Footer.astro";
const { writer } = Astro.props;

const {
  name,
  photo,
  description,
  lifeSpan,
  phrases = [],
  color
} = writer.data;
---

<section
  class="flex flex-col lg:flex-row w-full flex-1 text-white"
  style={`background-color: ${color}`}
>

  <!-- COVER IZQUIERDO -->
  <div
    class="
      relative
      w-full
      aspect-[2/3]

      lg:w-[40vw]
      lg:h-screen
      lg:sticky
      lg:top-0
      lg:aspect-auto
      lg:overflow-hidden
      shrink-0
    "
  >
    <img
      src={photo}
      alt={name}
      class="w-full h-full object-cover object-center"
      loading="eager"
      decoding="async"
    />

    <!-- gradientes -->
    <div
      class="hidden lg:block pointer-events-none absolute inset-y-0 right-0 w-24"
      style={`background: linear-gradient(to right, rgba(0,0,0,0), ${color});`}
    ></div>

    <div
      class="pointer-events-none absolute inset-x-0 bottom-0 h-20 lg:hidden"
      style={`background: linear-gradient(to bottom, rgba(0,0,0,0), ${color});`}
    ></div>

    <div
      class="pointer-events-none absolute inset-x-0 top-0 h-20 lg:hidden"
      style={`background: linear-gradient(to top, rgba(0,0,0,0), ${color});`}
    ></div>
  </div>


  <!-- CONTENIDO DERECHO -->
  <section
    class="
      flex flex-col
      flex-1
      h-full
    "
  >

    <!-- WRAPPER FLEX (igual que textos) -->
    <div
      class="
        flex flex-col
        flex-1

        w-full
        max-w-[1100px]
        mx-auto
        px-6
        lg:px-10
        mt-12
        lg:mt-10
      "
    >

      <!-- HEADER -->
      <header class="pb-3 border-b-2 border-white/50">
        <h1 class="text-4xl font-bold font-bebas">
          {name}
        </h1>

        <p class="font-besley text-base opacity-80">
          ({lifeSpan})
        </p>
      </header>


      <!-- FRASES (MASONRY intacto) -->
      <div
        class="
          columns-1
          sm:columns-2
          lg:columns-3
          xl:columns-4
          gap-4
          mt-10

          font-besley
          text-base
        "
      >
        {
          phrases.map((phrase: any) => (
            <article
              class="
                break-inside-avoid
                mb-5
                p-5
                rounded-lg
                bg-black/20
                backdrop-blur-sm
                border border-white/20
                italic
                leading-relaxed
                shadow-md
              "
            >
              <p>“{phrase.text}”</p>

              <span class="block text-xs font-bold not-italic opacity-70 text-right mt-3 tracking-wide">
                {phrase.source}
              </span>
            </article>
          ))
        }
      </div>


      <!-- FOOTER pegado abajo -->
      <div class="mt-auto pt-16">
        <Footer theme="text" />
      </div>

    </div>

  </section>

</section>
