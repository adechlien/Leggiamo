---
import Layout from "../../layouts/Layout.astro";
import { getCollection } from "astro:content";
import WriterSection from "../../components/WriterSection.astro";
import Footer from "../../components/Footer.astro";

export async function getStaticPaths() {
  const writers = await getCollection("writers");

  return writers.map((writer) => ({
    params: { slug: writer.slug },
    props: writer,
  }));
}

const writer = Astro.props;
---

<Layout title={writer.data.name} bg={writer.data.color}>
    <WriterSection writer={writer} />
    <Footer />
</Layout>
